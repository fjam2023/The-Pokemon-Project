let pokemonRepository=function(){let e=[],t=document.querySelector(".search");function n(t){e.push(t)}function o(){return e}function a(e){let t=$(".pokemon-list"),n=$('<li class = "group-list-item"></li>'),o=$(`<button type = "button" class = "button-class btn btn-primary" data-toggle = "modal" data-target = "#pokemonModalContainer">${e.name}</button>`);o.on("click",function(t){i(e)}),n.append(o),t.append(n)}function i(e){r(e).then(function(){l(e)})}function l(e){let t="";e.types.forEach(function(e){t+=e.type.name+" "});let n=$(".modal-body"),o=$(".modal-title");n.empty(),o.empty(),o.append(e.name),n.append(`<img class="modal-img" src="${e.imageUrl}">`),n.append(`<p>Height: ${e.height}</p>`),n.append(`<p>Weight: ${e.weight}</p>`),n.append(`<p>Types: ${t}</p>`)}function r(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.weight=t.weight}).catch(function(e){console.error(e)})}return t.addEventListener("input",function(){var n;let o=(n=t.value,e.filter(function(e){let t=e.name.toLowerCase(),o=n.toLowerCase();return t.startsWith(o)}));(function e(){let t=document.getElementsByClassName("group-list-item");for(;t.length>0;)t[0].parentNode.removeChild(t[0])})(),0===o.length?function e(t){let n=document.createElement("p");$(n).addClass("error-message"),$(n).addClass("col-5"),n.innerText=t;let o=document.getElementById("error-message");o&&o.appendChild(n)}("OOPS! No Pokemon with that name."):(o.forEach(a),function e(){let t=document.getElementsByClassName("error-message");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}())}),{getAll:o,add:n,addListItem:a,showDetails:i,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};n(t),console.log(t)})}).catch(function(e){console.error(e)})},loadDetails:r,showDetailsModal:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});